<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 600">
  <!-- Background -->
  <rect width="1000" height="600" fill="#f8fafc" rx="10" ry="10" />
  
  <!-- Title -->
  <text x="500" y="35" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#2c3e50">World Bank Data Engineering Architecture</text>

  <!-- Main Flow Container -->
  <rect x="50" y="60" width="900" height="500" fill="none" stroke="#ddd" stroke-width="2" rx="10" ry="10" />
  
  <!-- Data Source Configuration Component -->
  <rect x="80" y="100" width="200" height="100" rx="10" ry="10" fill="#4a90e2" opacity="0.9" />
  <text x="180" y="130" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">Data Source Configuration</text>
  <text x="180" y="155" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">WB_INDICATORS Dictionary</text>
  <text x="180" y="175" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">User Parameter Selection</text>
  
  <!-- Data Extraction Component -->
  <rect x="80" y="250" width="200" height="100" rx="10" ry="10" fill="#3498db" opacity="0.9" />
  <text x="180" y="280" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">Data Extraction</text>
  <text x="180" y="305" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">fetch_world_bank_data()</text>
  <text x="180" y="325" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">API Request Handling</text>
  
  <!-- Data Transformation Component -->
  <rect x="330" y="250" width="200" height="100" rx="10" ry="10" fill="#2ecc71" opacity="0.9" />
  <text x="430" y="280" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">Data Transformation</text>
  <text x="430" y="305" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">JSON to DataFrame</text>
  <text x="430" y="325" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">Data Cleaning & Validation</text>
  
  <!-- Visualization Generation Component -->
  <rect x="580" y="250" width="200" height="100" rx="10" ry="10" fill="#9b59b6" opacity="0.9" />
  <text x="680" y="280" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">Visualization Generation</text>
  <text x="680" y="305" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">create_time_series_plot()</text>
  <text x="680" y="325" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">create_bar_chart()</text>
  <text x="680" y="345" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">create_choropleth_map()</text>
  
  <!-- User Interface Component -->
  <rect x="330" y="400" width="450" height="100" rx="10" ry="10" fill="#e74c3c" opacity="0.9" />
  <text x="555" y="430" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">User Interface & Interaction</text>
  <text x="555" y="455" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">Streamlit UI Components</text>
  <text x="555" y="475" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">Visualization Rendering & Download Options</text>
  
  <!-- World Bank API Component -->
  <rect x="80" y="400" width="200" height="100" rx="10" ry="10" fill="#f39c12" opacity="0.9" />
  <text x="180" y="430" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">External Data Source</text>
  <text x="180" y="455" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">World Bank API</text>
  <text x="180" y="475" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">worldbank.org/v2/</text>
  
  <!-- Flow Arrows -->
  <!-- Config to Extraction -->
  <path d="M180 200 L180 250" stroke="#666" stroke-width="3" fill="none" marker-end="url(#arrowhead)" />
  
  <!-- Extraction to API -->
  <path d="M180 350 L180 400" stroke="#666" stroke-width="3" fill="none" marker-end="url(#arrowhead)" />
  <path d="M180 400 L180 350" stroke="#666" stroke-width="3" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="5,5" />
  
  <!-- Extraction to Transformation -->
  <path d="M280 300 L330 300" stroke="#666" stroke-width="3" fill="none" marker-end="url(#arrowhead)" />
  
  <!-- Transformation to Visualization -->
  <path d="M530 300 L580 300" stroke="#666" stroke-width="3" fill="none" marker-end="url(#arrowhead)" />
  
  <!-- Visualization to UI -->
  <path d="M680 350 L680 400" stroke="#666" stroke-width="3" fill="none" marker-end="url(#arrowhead)" />
  
  <!-- Config to UI (for parameters) -->
  <path d="M280 150 L450 150 L450 400" stroke="#666" stroke-width="3" fill="none" marker-end="url(#arrowhead)" />
  
  <!-- Define the arrowhead marker -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
  </defs>
  
  <!-- Legend -->
  <rect x="820" y="100" width="20" height="15" fill="#4a90e2" />
  <text x="845" y="113" font-family="Arial, sans-serif" font-size="12" fill="#333">Configuration</text>
  
  <rect x="820" y="125" width="20" height="15" fill="#3498db" />
  <text x="845" y="138" font-family="Arial, sans-serif" font-size="12" fill="#333">Data Extraction</text>
  
  <rect x="820" y="150" width="20" height="15" fill="#2ecc71" />
  <text x="845" y="163" font-family="Arial, sans-serif" font-size="12" fill="#333">Transformation</text>
  
  <rect x="820" y="175" width="20" height="15" fill="#9b59b6" />
  <text x="845" y="188" font-family="Arial, sans-serif" font-size="12" fill="#333">Visualization</text>
  
  <rect x="820" y="200" width="20" height="15" fill="#e74c3c" />
  <text x="845" y="213" font-family="Arial, sans-serif" font-size="12" fill="#333">User Interface</text>
  
  <rect x="820" y="225" width="20" height="15" fill="#f39c12" />
  <text x="845" y="238" font-family="Arial, sans-serif" font-size="12" fill="#333">External API</text>
</svg>
